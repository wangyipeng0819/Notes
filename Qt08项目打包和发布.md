---
title: Qt08项目打包和发布
date: 2025-03-13 10:10:22
tags:
- Qt学习
categories:
- Qt
cover: https://bu.dusays.com/2025/03/13/67d2d8ecad336.png
---

打包整体思路：

- 将编译后的exe可执行文件及其各种依赖dll、lib、图标、配置文件等先打包放到一个目录中
- 对其进行打包发布（两种方式）：

1. 利用VS的插件Microsoft Visual Studio Installer Projects安装程序打包插件进行打包
2. 利用Enigma Virtual Box(单文件封装工具) 进行打包

### <font color="FF0000">一，将编译后的exe可执行文件及其各种依赖dll、lib、图标、配置文件等先打包放到一个目录中</font>

**（1）dumpbin指令查看可执行文件的dll依赖包**

在VS开发人员命令提示符（vs界面->工具->命令行->开发者命令提示）中执行**dumpbin /dependents 程序路径 ：dumpbin/dependents C:\Users\WFD\Desktop\GCtest\Debug\GCtest**

![](https://bu.dusays.com/2025/03/13/67d2d919ca716.png)

**（2）windeployqt.exe指令自动将qt依赖包复制过来**

 1️⃣先打开 Qt 的命令行（用的32位）

![](https://bu.dusays.com/2025/03/13/67d2d931dc01c.png)

2️⃣使用“cd/d 路径” 命令进入到包含.exe 文件的文件夹。

3️⃣ Qt 命令行执行 windeployqt 工具，输入： “windeployqt ***.exe” ，就可以将qt依赖包复制到该文件夹中

![](https://bu.dusays.com/2025/03/13/67d2d94c54e1f.png)

![](https://bu.dusays.com/2025/03/13/67d2d95753bae.png)

**（3）非Qt依赖库的添加**

**要注意release版本与debug版本所需要的依赖是不一样的，需要分别打包！！！**

-  **方法一**

在通过vs的dumpbin指令查询到可执行文件的dll依赖包后，使用eyerything软件根据位置去寻找dll文件。

下载地址：http://www.voidtools.com/

![](https://bu.dusays.com/2025/03/13/67d2d99b229d6.png)

-  **方法二**

如果动态库有很多那么复制起来很麻烦（比如上面Qtcore.dll查找到很多路径，但是不知道用哪个），可以使用window的批处理：

通过观察程序运行时Vs输出窗口中加载的dll库：

![](https://bu.dusays.com/2025/03/13/67d2d9b78f0fc.png)

- **方法三**

使用Dependency Wallker 打开***.exe 查找不存在的.dll，其中黄色的问号标识是不存在的。Dependency Wallker可以递归显示可执行文件（exe）和动态库（dll）调用的动态库。

打开**.exe文件之后各个节点可能是展开的很乱，可以右击任意节点选择“折叠所有(L)”,然后再单击根节点的加号展开就是如图所示的样式，这样很清晰。

![](https://bu.dusays.com/2025/03/13/67d2d9d63494d.png)

在全部添加完依赖库后，点击exe运行文件就可以本机运行了。或者将该文件夹全部发送给用户也可运行。

那么如何只使用一个exe文件就完成程序的运行呢？

**🙄这就要用到下面要说的打包和发布了。**



### <font color="FF0000">二，利用VS的插件Microsoft Visual Studio Installer Projects安装程序打包插件进行打包</font>

安装过程不再详述参见：[Installer Projects插件的安装](https://www.cnblogs.com/wuyubing/p/12378014.html)

 **（1）新建安装项目**

解决方案->新建项目->setup project

![](https://bu.dusays.com/2025/03/13/67d2d9ff7680d.png)

进入文件系统：(setup1->view->文件系统）

![](https://bu.dusays.com/2025/03/13/67d2da14e0621.png)

 **（2）添加文件**

Application Folder->add->文件（在此添加相关的依赖资源）

![](https://bu.dusays.com/2025/03/13/67d2da26840fa.png)

 将exe所在目录下的所有文件添加到该处

 **（3）添加项目输出**

Application Folder->add->项目输出（主程序入口）

![](https://bu.dusays.com/2025/03/13/67d2da3facb0a.png)

对主输出创建快捷方式，并将其拖动到User‘s Desktop内

![](https://bu.dusays.com/2025/03/13/67d2da4f4073b.png)

**（4）打包发布**

 对setup1项目进行重新生成，即生成安装程序

![](https://bu.dusays.com/2025/03/13/67d2da5f3f9fd.png)

### <font color="FF0000">三，利用Enigma Virtual Box(单文件封装工具) 进行打包</font>

Enigma 虚拟文件打包系统可以将程序和配套文件打包成一个可执行文件，而没有任何效率的损失，配套文件也不会被释放至硬盘。（同时支持X86和X64二进制文件）。

如图：

![](https://bu.dusays.com/2025/03/13/67d2da99e4610.png)

![](https://bu.dusays.com/2025/03/13/67d2daa7c6d41.png)

将生成的GCtest_boxed文件复制到要运行的设备上即可（可以单独运行）

<br>

<br>

<br>

<span style="color: red; font-size: 20px;">转载自：[唯有自己强大](https://www.cnblogs.com/xyf327)          如有侵权，在下方评论  立刻删除。</span>
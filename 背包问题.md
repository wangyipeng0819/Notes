---
title: èƒŒåŒ…é—®é¢˜
date: 2025-08-05 22:00:38
tags:
- ç®—æ³•
categories:
- æ•°æ®ç»“æ„
cover: https://bu.dusays.com/2025/08/05/68921dafe4a0c.png
---

### AcWing 2. 01èƒŒåŒ…é—®é¢˜

```
æœ‰ N ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ…ã€‚æ¯ä»¶ç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚

ç¬¬ i ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ viï¼Œä»·å€¼æ˜¯ wiã€‚

æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚
è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚
```

```c++
#include <bits/stdc++.h>

using namespace std;

const int N = 1010;

int v[N], w[N], f[N];
int n, m;

int main()
{
    scanf("%d%d", &n, &m);
    
    for (int i = 1; i <= n; i ++ ) scanf("%d%d", &v[i], &w[i]);
    
    for (int i = 1; i <= n; i ++ )
        for (int j = m; j >= v[i]; j -- )
            f[j] = max(f[j], f[j - v[i]] + w[i]);
    
    cout << f[m] << endl;
    
    return 0;
}
```

å¯¹`f[i]`æœ‰å½±å“çš„åªæœ‰`f[i-1]`ï¼Œæ‰€ä»¥ä¸ºäº†é¿å…ç”¨æ›´æ–°è¿‡çš„`f[i-1]`æ¥æ›´æ–°`f[i]`ï¼Œæˆ‘ä»¬çš„ä»£ç æ˜¯ä»å¤§åˆ°å°æ¥æ›´æ–°

### AcWing 3. å®Œå…¨èƒŒåŒ…é—®é¢˜

è·Ÿ0-1èƒŒåŒ…é—®é¢˜çš„åŒºåˆ«æ˜¯ï¼š01èƒŒåŒ…é—®é¢˜ï¼Œä¸€ä¸ªç‰©å“åªèƒ½é€‰æ‹©ä¸€æ¬¡ï¼Œä¸ºäº†ç”¨æ›´æ–°è¿‡çš„`f[i-1]`æ¥æ›´æ–°`f[i]`ï¼Œ0-1èƒŒåŒ…é—®é¢˜ä»å¤§åˆ°å°æ›´æ–°ã€‚

è€Œå®Œå…¨èƒŒåŒ…é—®é¢˜å¯ä»¥é€‰æ‹©æ— é™æ¬¡ï¼Œ

```c++
#include <bits/stdc++.h>

using namespace std;

const int N = 1010;

int n, m;
int v[N], w[N], f[N];  // v[i] ä½“ç§¯, w[i] ä»·å€¼, f[j] è¡¨ç¤ºå®¹é‡ä¸º j æ—¶çš„æœ€å¤§ä»·å€¼

int main()
{
    scanf("%d%d", &n, &m);
    
    for (int i = 1; i <= n; i ++ ) scanf("%d%d", &v[i], &w[i]);
    
    for (int i = 1; i <= n; i ++ )
        for (int j = v[i]; j <= m; j ++ )  // jå¯ä»¥ä»0å¼€å§‹ï¼Œä½†æ˜¯f[j - v[i]]ä¸‹æ ‡ä¼šå˜æˆè´Ÿæ•°
            f[j] = max(f[j], f[j - v[i]] + w[i]);
            
    printf("%d", f[m]);
    
    return 0;
}
```

ç¬¬ `i` ä»¶ç‰©å“ **å¯ä»¥é€‰å¤šæ¬¡**ï¼Œæ‰€ä»¥è¦ä» **å°åˆ°å¤§éå† j**ï¼Œä¿è¯ `f[j - v[i]]` å·²ç»è®¡ç®—çš„æ˜¯æœ¬è½®æ›´æ–°åçš„ `f[j - v[i]]`ï¼Œå³åŒ…å«äº†é‡å¤é€‰ç‰©å“çš„å¯èƒ½ã€‚

### AcWing 4. å¤šé‡èƒŒåŒ…é—®é¢˜ï¼ˆä¸€ï¼‰

å¤šé‡èƒŒåŒ…é—®é¢˜ä¹Ÿæ˜¯0-1èƒŒåŒ…é—®é¢˜çš„ä¸€ä¸ªå˜å¼ã€‚ä¸ 0-1 èƒŒåŒ…çš„åŒºåˆ«åœ¨äºæ¯ç§ç‰©å“æœ‰ kiä¸ªï¼Œè€Œéä¸€ä¸ªã€‚
æ³¨æ„ï¼šå®Œå…¨èƒŒåŒ…é—®é¢˜æ˜¯æ¯ç§ç‰©å“æ— é™ä¸ªã€‚

```c++
#include <bits/stdc++.h>

using namespace std;

const int N = 110;

int n, m;   // n: ç‰©å“æ•°é‡ï¼Œm: èƒŒåŒ…å®¹é‡
int v[N], w[N], s[N];  // v[i]: ä½“ç§¯ï¼Œw[i]: ä»·å€¼ï¼Œs[i]: æ•°é‡ä¸Šé™
int f[N][N];    // f[i][j]: åªå‰ i ä¸ªç‰©å“ï¼Œå®¹é‡ä¸º j æ—¶çš„æœ€å¤§ä»·å€¼

int main()
{
    scanf("%d%d", &n, &m);
    
    for (int i = 1; i <= n; i ++ ) scanf("%d%d%d", &v[i], &w[i], &s[i]);
    
    for (int i = 1; i <= n; i ++ )
        for (int j = 0; j <= m; j ++ )
            for (int k = 0; k <= s[i] && k * v[i] <= j; k ++ )
                f[i][j] = max(f[i][j], f[i - 1][j - v[i] * k] + w[i] * k);
                
    printf("%d", f[n][m]);
    
    return 0;
}
```

æ¯æ¬¡éƒ½æšä¸¾å½“å‰ä½“ç§¯ä¸º`j`çš„æ‰€æœ‰å¯èƒ½è£…æ³•ï¼›æœ‰æ¡ä»¶é™åˆ¶ï¼Œä¸ä¼šæƒ³å®Œå…¨èƒŒåŒ…é—®é¢˜ä¸€æ ·å‡ºç°ä¸‹æ ‡ä¸ºè´Ÿçš„é—®é¢˜

### AcWing 5. å¤šé‡èƒŒåŒ…é—®é¢˜ï¼ˆäºŒï¼‰

è¿™é‡Œä»‹ç»çš„æ˜¯**å¤šé‡èƒŒåŒ…é—®é¢˜çš„äºŒè¿›åˆ¶ä¼˜åŒ–**ï¼Œå°†ä¸€ä¸ªæœ€å¤šé€‰ `s` æ¬¡çš„ç‰©å“ï¼Œæ‹†æˆè‹¥å¹²ä¸ª **01èƒŒåŒ…é—®é¢˜ä¸­çš„ç‰©å“**ã€‚

æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š

æŠŠä¸€ä¸ªæ•° `s` æ‹†æˆè‹¥å¹²ä¸ª 2 çš„å¹‚çš„å’Œï¼šå¦‚ `s = 13` æ‹†æˆ `1 + 2 + 4 + 6`ï¼ˆå…¶ä¸­æœ€åä¸€é¡¹æ˜¯ä½™æ•°ï¼‰



```c++
#include <bits/stdc++.h>

using namespace std;

const int N = 12010, M = 2010;

int n, m;
int v[N], w[N];
int f[M];

int main()
{
    scanf("%d%d", &n, &m);
    
    int cnt = 0;
    for (int i = 1; i <= n; i ++ )
    {
        int a, b, s;   // a:ä½“ç§¯, b:ä»·å€¼, s:æœ€å¤§æ•°é‡
        scanf("%d%d%d", &a, &b, &s);
        
        int k = 1;
        while (k <= s)
        {
            cnt ++ ;
            v[cnt] = a * k;
            w[cnt] = b * k;
            s -= k;   // s æ˜¯æ€»æ•°ï¼Œæ¯æ¬¡éƒ½å‡å»kï¼Œé‚£ä¹ˆå°±æ˜¯å‰©ä¸‹çš„äº†
            k *= 2;   // kä»æœ€å°å¹‚æ¬¡å¼€å§‹   2  4  8 ... åæ­£ä¸ä¼šè¶Šç•Œ
        }
        // è¿™é‡Œå°±æ˜¯è¡¥è¶³å‰©ä¸‹çš„ä¸œè¥¿äº†   å†è¿›è¡Œè®¡ç®—
        if (s > 0)
        {
            cnt ++ ;
            v[cnt] = a * s;
            w[cnt] = b * s;
        }
    }
    
    n = cnt ;
    // ä¸Šé¢å·²ç»æ‹†åˆ†æˆ0-1èƒŒåŒ…é—®é¢˜äº†ï¼Œç‰©å“éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„äº†ï¼Œç›´æ¥å¥—ç”¨01èƒŒåŒ…ä»£ç å³å¯
    for (int i = 1; i <= n; i ++ )
        for (int j = m; j >= v[i]; j -- )
            f[j] = max(f[j], f[j - v[i]] + w[i]);
    
    printf("%d", f[m]);
    
    return 0;
}
```

## ğŸ”¢ ä¸¾ä¸ªä¾‹å­ï¼šs = 13

| æ‹†åˆ†è½®æ¬¡ | kå€¼  | så‰©ä½™ | ä½“ç§¯ v[cnt]                   | ä»·å€¼ w[cnt] |
| -------- | ---- | ----- | ----------------------------- | ----------- |
| åˆå§‹     | 1    | 13    | aÃ—1                           | bÃ—1         |
| ç¬¬1è½®    | 2    | 12    | aÃ—2                           | bÃ—2         |
| ç¬¬2è½®    | 4    | 10    | aÃ—4                           | bÃ—4         |
| ç¬¬3è½®    | 8    | 6     | âŒ ä¸æ»¡è¶³ `k <= s`ï¼Œè·³å‡º while |             |

è¿˜å‰©ä¸‹ `s = 6`ï¼Œéœ€è¦è¡¥ä¸€ä¸ªï¼š

```
if (s > 0)
{
    cnt ++;
    v[cnt] = a * s;
    w[cnt] = b * s;
}
```

æœ€ç»ˆæ‹†æˆäº†ï¼š1ä»¶ã€2ä»¶ã€4ä»¶ã€6ä»¶ï¼ˆæ€»å…±13ä»¶ âœ…ï¼‰  æ¯ä»¶ä»·å€¼  ä½“ç§¯éƒ½ä¸ä¸€æ ·ï¼Œ  åŒ–ç®€ä¸º01èƒŒåŒ…é—®é¢˜äº†

### AcWing 9. åˆ†ç»„èƒŒåŒ…é—®é¢˜

**é¢˜ç›®æè¿°**ï¼šæœ‰`n`ç»„ç‰©å“å’Œä¸€ä¸ªå¤§å°ä¸º`m`çš„èƒŒåŒ…ï¼Œç¬¬`i`ä¸ªç‰©å“çš„ä»·å€¼ä¸º`wi`ï¼Œä½“ç§¯ä¸º`vi`ã€‚åŒæ—¶ï¼Œæ¯ä¸ªç‰©å“å±äºä¸€ä¸ªç»„ï¼ŒåŒç»„å†…æœ€å¤šé€‰æ‹©ä¸€ä¸ªç‰©å“ï¼ˆå¯ä»¥ä¸é€‰ï¼‰ã€‚æ±‚èƒŒåŒ…èƒ½è£…è½½ç‰©å“çš„æœ€å¤§æ€»ä»·å€¼

**æ€è€ƒ**ï¼šå…¶å®å°±æ˜¯ä»ã€Œåœ¨æ‰€æœ‰ç‰©å“ä¸­é€‰æ‹©ä¸€ä»¶ã€å˜æˆäº†ã€Œä»å½“å‰ç»„ä¸­é€‰æ‹©ä¸€ä»¶ã€ï¼Œäºæ˜¯å°±å¯¹æ¯ä¸€ç»„è¿›è¡Œä¸€æ¬¡ 0-1 èƒŒåŒ…å°±å¯ä»¥äº†ã€‚

```c++
#include <bits/stdc++.h>

using namespace std;

const int N = 110;

int n, m;						// nï¼šç»„æ•°ï¼Œmï¼šèƒŒåŒ…å®¹é‡
int v[N][N], w[N][N], s[N];		// v[i][k]ï¼šç¬¬ i ç»„ç¬¬ k ä¸ªç‰©å“çš„ä½“ç§¯ï¼Œw[i][k] æ˜¯ä»·å€¼
int f[N];						// f[j]ï¼šå®¹é‡ä¸º j æ—¶çš„æœ€å¤§ä»·å€¼

int main()
{
    scanf("%d%d", &n, &m);
    
    for (int i = 1; i <= n; i ++ )
    {
        scanf("%d", &s[i]);
        for (int j = 0; j < s[i]; j ++ )
            scanf("%d%d", &v[i][j], &w[i][j]);
    }
    
    for (int i = 1; i <= n; i ++ )  // å¾ªç¯æ¯ä¸€ç»„
        for (int j = m; j >= 0; j -- )  //å¾ªç¯èƒŒåŒ…å®¹é‡  ä»å¤§åˆ°å°
            for (int k = 0; k < s[i]; k ++ )   // å¾ªç¯è¯¥ç»„çš„æ¯ä¸€ä¸ªç‰©å“
                if (v[i][k] <= j)
                    f[j] = max(f[j], f[j - v[i][k]] + w[i][k]);
                    
    printf("%d", f[m]);
    
    return 0;
}
```

